/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'Administrator' at '16-5-4 涓嬪崍5:33' with Gradle 2.7
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/2.7/userguide/tutorial_java_projects.html
 */

apply plugin: 'java'
//使用war插件进行web构建
apply plugin: 'war'		
//apply plugin: 'application'
//mainClassName = 'hello.HelloWorld'

apply plugin: 'eclipse'
//apply plugin: 'idea'

//改变默认的webapp目录默认为src/main/webapp
webAppDirName = 'WebContent'

//使用maven本地与远程库
repositories {
    mavenLocal()
  	//mavenCentral()
  	//nexus私服地址
 	maven {
 		url "http://maven.aliyun.com/nexus/content/groups/public/"
 		
 		/*url "http://lywx2000.gicp.net:8081/nexus/content/repositories/ueditor/"
 		  //私服账号密码
 		  credentials {
 		  	username 'admin'
 		 	password 'admin123'
 		  }*/
 	}
}

// In this section you declare the dependencies for your production and test code
dependencies {
	//编译和运行时依赖
    compile 'org.slf4j:slf4j-api:1.7.12'
    compile 'log4j:log4j:1.2.17'
    compile 'com.jfinal:jfinal:2.2'
    compile 'javax.mail:mail:1.4.7'
    compile 'mysql:mysql-connector-java:5.1.25'
    compile 'com.alibaba:druid:1.0.13'
    compile 'org.beetl:beetl-core:2.2.3'
    compile 'com.alibaba:fastjson:1.2.7'
    compile 'com.jfinal:cos:26Dec2008'
    compile 'commons-fileupload:commons-fileupload:1.2.2'
    compile 'commons-codec:commons-codec:1.10'
    compile 'commons-io:commons-io:2.4'
    compile 'org.quartz-scheduler:quartz:2.1.1'
    compile 'com.google.collections:google-collections:1.0-rc2'
    compile 'org.slf4j:slf4j-log4j12:1.7.12'
    compile 'org.apache.httpcomponents:httpclient:4.3.6'
	compile 'org.apache.poi:poi:3.11'
	compile 'org.apache.velocity:velocity:1.7'
    compile 'org.dom4j:dom4j:2.0.0'
    compile 'jaxen:jaxen:1.1.6'
    compile 'commons-httpclient:commons-httpclient:3.1'
    compile 'com.thetransactioncompany:cors-filter:1.7.1'
    compile 'com.thetransactioncompany:java-property-utils:1.9.1'
    //私有库地址
    //compile 'fakepath:ueditor:1.1.2'
    //compile 'ueditor_json:ueditor_json:1.0'
	//compile files('lib/ueditor-1.1.2.jar')
	//compile files('lib/ueditor_json-1.0.jar')

    //单元测试时依赖，不打到war包中
    testCompile 'junit:junit:4.12'
    //编译时依赖，不打到war包中
    providedCompile 'javax.servlet:servlet-api:2.5'
}

//支持utf-8，如果不设置，则注释有中文等情况时，生成javaDoc会出现乱码，并且执行build命令时会出现警告和错误。
tasks.withType(JavaCompile) {  
    options.encoding = "UTF-8"  
}

//复制依赖jar到项目路径,并删除不是复制 的文件
task cpJars(type:Sync) {
  //源路径
  from configurations.runtime
  //目标路径
  into '/WebContent/WEB-INF/lib'
}

//生成包装器，没安装gradle也可以使用gradle命令
task wrapper(type:Wrapper){
	gradleVersion='2.7'
}
